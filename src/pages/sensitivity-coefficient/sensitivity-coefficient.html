<ion-header>
  <ion-navbar>
    <ion-title>{{ 'PARAM.SENSITIVITY' | translate }}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-item>
    <ion-label>{{ 'PARAM.WEIGHT' | translate }} (kg)</ion-label>
    <ion-input type="number" [(ngModel)]="weight" (change)="calculK()" min="1" max="200"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label stacked>{{ 'SENSIBILITY.REDUCE' | translate }} ({{ bloodGlucoseService.unit }})</ion-label>
    <ion-input type="number" [(ngModel)]="glucoseReduction" (change)="calculK()" step="{{bloodGlucoseService.step}}" min="{{bloodGlucoseService.min}}" max="{{bloodGlucoseService.max}}"></ion-input>
  </ion-item>
  <div padding class="form-errors" *ngIf="glucoseReduction && (glucoseReduction < bloodGlucoseService.min || glucoseReduction > bloodGlucoseService.max)">
    {{ 'SENSIBILITY.BLOOD_GLUCOSE_BETWEEN' | translate }} {{ bloodGlucoseService.min }}&nbsp;{{ bloodGlucoseService.unit }} {{ 'AND' | translate }} {{ bloodGlucoseService.max }}&nbsp;{{ bloodGlucoseService.unit }}.
  </div>
  <ion-card *ngIf="k">
    <ion-card-header class="multiline">
      {{ 'SENSIBILITY.COEFFICIENT_IS' | translate }} <b>{{ k }}</b>
    </ion-card-header>
    <ion-card-content>
      <button ion-button block (click)="saveK()">{{ 'SENSIBILITY.USE' | translate }}</button>
    </ion-card-content>
  </ion-card>
</ion-content>
